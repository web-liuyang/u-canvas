<script lang="ts" setup>
import {
	FTapEvent,
	FTouchcancelEvent,
	FTouchendEvent,
	FTouchmoveEvent,
	FTouchstartEvent,
	FZoominEvent,
	FZoomoutEvent,
} from "@/u-canvas-components/src/event";
import finger from "@/u-canvas-components/src/finger.uvue";
import { EventTarget } from "./event-target";

const props = defineProps<{
	eventTarget: EventTarget;
}>();

const onTap = (e: FTapEvent) => {
	props.eventTarget.emit("tap", e);
};

const onTouchstart = (e: FTouchstartEvent) => {
	props.eventTarget.emit("touchstart", e);
};

const onTouchmove = (e: FTouchmoveEvent) => {
	props.eventTarget.emit("touchmove", e);
};

const onTouchend = (e: FTouchendEvent) => {
	props.eventTarget.emit("touchend", e);
};

const onTouchcancel = (e: FTouchcancelEvent) => {
	props.eventTarget.emit("touchcancel", e);
};

const onZoomin = (e: FZoominEvent) => {
	props.eventTarget.emit("zoomin", e);
};

const onZoomout = (e: FZoomoutEvent) => {
	props.eventTarget.emit("zoomout", e);
};
</script>

<template>
	<finger
		class="evnet-target"
		@onTap="onTap"
		@onTouchstart="onTouchstart"
		@onTouchmove="onTouchmove"
		@onTouchend="onTouchend"
		@onTouchcancel="onTouchcancel"
		@onZoomin="onZoomin"
		@onZoomout="onZoomout"
	>
		<slot />
	</finger>
</template>

<style>
.evnet-target {
	width: 100%;
	height: 100%;
}
</style>
